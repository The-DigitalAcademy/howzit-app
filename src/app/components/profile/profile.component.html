<main class="container">
  
  <div class="profile" *ngIf="isLoggedIn && currentUserProfile">
    <div class="info">
      <img
        [src]="currentUserProfile.profileImage || 'assets/images/profile.jpeg'"
        alt="Profile Picture"
        class="picture"
      />
      
      <div class="details">
        <h2 class="name">{{ currentUserProfile.name }}</h2>
        <p class="username">@{{ currentUserProfile.username }}</p>

        <p class="bio">{{ currentUserProfile.bio }}</p>

        <div class="stats">
          <div class="stat">
            <span class="stat-number">{{ posts.length }}</span>
            <span class="stat-label">Posts</span>
          </div>
          <div class="stat">
            <span class="stat-number">{{ currentUserProfile.followers ? currentUserProfile.followers.length : '1.2k' }}</span>
            <span class="stat-label">Followers</span>
          </div>
          <div class="stat">
            <span class="stat-number">{{ currentUserProfile.following ? currentUserProfile.following.length : '432' }}</span>
            <span class="stat-label">Following</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="posts-section">
    <h3 class="section-title">My Posts</h3>

    <div class="posts-grid">
      <div *ngFor="let post of posts" class="grid-item">
        <img [src]="post.image" [alt]="post.caption" />
      </div>

      <div *ngIf="posts.length === 0" class="no-posts">
        <p>No posts yet. <a routerLink="/create-post">Create your first post!</a></p>
      </div>
    </div>
  </div>
</main>